<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ESA JWST Archive (astroquery.esa.jwst) &#8212; astroquery v0.4.8.dev10179</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-astropy.css?v=9d21690f" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=1d6242bd"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="icon" href="../../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="JwstClass" href="../../api/astroquery.esa.jwst.JwstClass.html" />
    <link rel="prev" title="Conf" href="../../api/astroquery.esa.iso.Conf.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../index.html"><span id="logotext1">astro</span><span id="logotext2">query</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../../api/astroquery.esa.jwst.JwstClass.html" title="JwstClass">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../../api/astroquery.esa.iso.Conf.html" title="Conf">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../../index.html">astroquery v0.4.8.dev10179</a>
	 &#187;
      </li>
      
      <li>ESA JWST Archive (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.esa.jwst</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="esa-jwst-archive-astroquery-esa-jwst">
<span id="astroquery-esa-jwst"></span><h1>ESA JWST Archive (<a class="reference internal" href="#module-astroquery.esa.jwst" title="astroquery.esa.jwst"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.esa.jwst</span></code></a>)<a class="headerlink" href="#esa-jwst-archive-astroquery-esa-jwst" title="Link to this heading">¶</a></h1>
<p>The James Webb Space Telescope (JWST) is a collaborative project between NASA,
ESA, and the Canadian Space Agency (CSA). Although radically different in
design, and emphasizing the infrared part of the electromagnetic spectrum,
JWST is widely seen as the successor to the Hubble Space Telescope (HST).
The JWST observatory consist of a deployable 6.6 meter passively cooled
telescope optimized for infrared wavelengths, and is operated in deep
space at the anti-Sun Earth-Sun Lagrangian point (L2). It carries four
scientific instruments: a near-infrared camera (NIRCam), a
near-infrared multi-object spectrograph (NIRSpec) covering the 0.6 - 5 μm
spectral region, a near-infrared slit-less spectrograph (NIRISS), and a
combined mid-infrared camera/spectrograph (MIRI) covering 5 - 28 μm. The JWST
focal plane (see image to the right) contains apertures for the science
instruments and the Fine Guidance Sensor (FGS).</p>
<p>The scientific goals of the JWST mission can be sorted into four broad themes:
The birth of stars and proto-planetary systems Planetary systems and the
origins of life</p>
<ul class="simple">
<li><p>The end of the dark ages: first light and re-ionization.</p></li>
<li><p>The assembly of galaxies.</p></li>
<li><p>The birth of stars and proto-planetary systems.</p></li>
<li><p>Planetary systems and the origins of life.</p></li>
</ul>
<p>This package provides access to the metadata and datasets provided by the
European Space Agency JWST Archive using a TAP+ REST service. TAP+ is an
extension of Table Access Protocol (TAP: <a class="reference external" href="http://www.ivoa.net/documents/TAP/">http://www.ivoa.net/documents/TAP/</a>)
specified by the International Virtual Observatory Alliance (IVOA: <a class="reference external" href="http://www.ivoa.net">http://www.ivoa.net</a>).</p>
<p>The TAP query language is Astronomical Data Query Language
(ADQL: <a class="reference external" href="http://www.ivoa.net/documents/ADQL/2.0">http://www.ivoa.net/documents/ADQL/2.0</a>), which is similar
to Structured Query Language (SQL), widely used to query databases.</p>
<p>TAP provides two operation modes: Synchronous and Asynchronous:</p>
<ul class="simple">
<li><p>Synchronous: the response to the request will be generated as soon as the
request received by the server.
(Do not use this method for queries that generate a big amount of results.)</p></li>
<li><p>Asynchronous: the server starts a job that will execute the request.
The first response to the request is the required information (a link)
to obtain the job status.
Once the job is finished, the results can be retrieved.</p></li>
</ul>
<p>This module can use these two modes, usinc the ‘async_job=False/True’ tag in different functions.</p>
<p>ESA JWST TAP+ server provides two access mode: public and authenticated:</p>
<ul class="simple">
<li><p>Public: this is the standard TAP access. A user can execute ADQL queries and
upload tables to be used in a query ‘on-the-fly’ (these tables will be removed
once the query is executed). The results are available to any other user and
they will remain in the server for a limited space of time.</p></li>
<li><p>Authenticated: some functionalities are restricted to authenticated users only.
The results are saved in a private user space and they will remain in the
server for ever (they can be removed by the user).</p>
<ul>
<li><p>ADQL queries and results are saved in a user private area.</p></li>
<li><p>Cross-match operations: a catalog cross-match operation can be executed.
Cross-match operations results are saved in a user private area.</p></li>
<li><p>Persistence of uploaded tables: a user can upload a table in a private space.
These tables can be used in queries as well as in cross-matches operations.</p></li>
</ul>
</li>
</ul>
<p>This python module provides an Astroquery API access.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<p>It is highly recommended checking the status of JWST TAP before executing this module. To do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">get_status_messages</span><span class="p">()</span>
</pre></div>
</div>
<p>This method will retrieve the same warning messages shown in JWST Science Archive with information about
service degradation.</p>
<section id="non-authenticated-access">
<h3>1. Non authenticated access<a class="headerlink" href="#non-authenticated-access" title="Link to this heading">¶</a></h3>
<section id="query-region">
<h4>1.1. Query region<a class="headerlink" href="#query-region" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coord</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">ra</span><span class="o">=</span><span class="mi">53</span><span class="p">,</span> <span class="n">dec</span><span class="o">=-</span><span class="mi">27</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">),</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;icrs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">height</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">coordinate</span><span class="o">=</span><span class="n">coord</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">         dist                observationid          ...</span>
<span class="go">  ------------------ ------------------------------ ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx107_00007_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx104_00004_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx102_00002_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx10b_00011_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx109_00009_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx105_00005_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx103_00003_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx10a_00010_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx101_00001_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx106_00006_miri ...</span>
<span class="go">  ...                ...                            ...</span>
</pre></div>
</div>
</section>
<section id="cone-search">
<h4>1.2. Cone search<a class="headerlink" href="#cone-search" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coord</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">ra</span><span class="o">=</span><span class="mi">53</span><span class="p">,</span> <span class="n">dec</span><span class="o">=-</span><span class="mi">27</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">),</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;icrs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">radius</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">cone_search</span><span class="p">(</span><span class="n">coordinate</span><span class="o">=</span><span class="n">coord</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span> <span class="n">async_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Query finished. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">           dist                observationid        ...</span>
<span class="go">  ------------------ ------------------------------ ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx107_00007_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx104_00004_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx102_00002_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx10b_00011_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx109_00009_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx105_00005_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx103_00003_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx10a_00010_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx101_00001_miri ...</span>
<span class="go">  0.5520678701664351 jw02516010001_xx106_00006_miri ...</span>
<span class="go">  ...                ...                            ...</span>
</pre></div>
</div>
</section>
<section id="query-by-target-name">
<h4>1.3. Query by target name<a class="headerlink" href="#query-by-target-name" title="Link to this heading">¶</a></h4>
<p>To provide the target coordinates based on its name and execute the query region method.
It uses three different catalogs to resolve the coordinates: SIMBAD, NED and VIZIER. An additional target
resolver is provider, ALL (which is also the default value), using all the aforementioned
catalogues in the defined order to obtain the required coordinates (using the following
element in the list if the target name cannot be resolved).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_name</span> <span class="o">=</span> <span class="s1">&#39;M1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_resolver</span> <span class="o">=</span> <span class="s1">&#39;ALL&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">radius</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">query_target</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="n">target_name</span><span class="p">,</span> <span class="n">target_resolver</span><span class="o">=</span><span class="n">target_resolver</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">          dist                  observationid           ...</span>
<span class="go">  -------------------- -------------------------------- ...</span>
<span class="go">  0.003349189664076155   jw01714001004_xx106_00002_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001003_xx10q_00002_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001006_xx107_00003_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001002_xx105_00001_miri ...</span>
<span class="go">  0.003349189664076155 jw01714005001_xx106_00006_nircam ...</span>
<span class="go">  0.003349189664076155   jw01714001003_xx10w_00004_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001002_xx103_00003_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001004_xx104_00004_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001006_xx10n_00003_miri ...</span>
<span class="go">  0.003349189664076155   jw01714001005_xx10p_00001_miri ...</span>
<span class="go">  ...                    ...                            ...</span>
</pre></div>
</div>
<p>This method uses the same parameters as query region, but also includes the target name and the catalogue
(target resolver) to retrieve the coordinates.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_name</span> <span class="o">=</span> <span class="s1">&#39;LMC&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_resolver</span> <span class="o">=</span> <span class="s1">&#39;NED&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">height</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">query_target</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="n">target_name</span><span class="p">,</span> <span class="n">target_resolver</span><span class="o">=</span><span class="n">target_resolver</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">async_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Query finished. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">          dist                  observationid            ...</span>
<span class="go">  ------------------- ---------------------------------- ...</span>
<span class="go">  0.25984680687093176 jw01043010001_02101_00013_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043010001_02101_00004_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043010001_02101_00014_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043007001_02101_00006_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043008001_02101_00016_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043007001_02101_00008_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043009001_02101_00013_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043007001_02101_00007_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043007001_02101_00009_mirimage ...</span>
<span class="go">  0.25984680687093176 jw01043009001_02101_00004_mirimage ...</span>
<span class="go">  ...                 ...                                ...</span>
</pre></div>
</div>
</section>
<section id="getting-data-products">
<h4>1.4 Getting data products<a class="headerlink" href="#getting-data-products" title="Link to this heading">¶</a></h4>
<p>To query the data products associated with a certain Observation ID</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_list</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_product_list</span><span class="p">(</span><span class="n">observation_id</span><span class="o">=</span><span class="s1">&#39;jw01063107001_02101_00013_nrca3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">product_list</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">])</span>  
<span class="go">                      filename</span>
<span class="go">  ------------------------------------------------</span>
<span class="go">  jw01063-o107_20220328t013707_image2_144_asn.json</span>
<span class="go">          jw01063107001_02101_00013_nrca3_cal.fits</span>
<span class="go">           jw01063107001_02101_00013_nrca3_cal.jpg</span>
<span class="go">     jw01063107001_02101_00013_nrca3_cal_thumb.jpg</span>
<span class="go">          jw01063107001_02101_00013_nrca3_i2d.fits</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>You can filter by product type and calibration level (using a numerical
value or the option ‘ALL’ -set by default- that will download
all the products associated to this observation_id with the same and lower levels).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_list</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_product_list</span><span class="p">(</span><span class="n">observation_id</span><span class="o">=</span><span class="s1">&#39;jw01023029001_02101_00004_mirimage&#39;</span><span class="p">,</span> <span class="n">product_type</span><span class="o">=</span><span class="s1">&#39;science&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">product_list</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">])</span>
<span class="go">                       filename</span>
<span class="go">  -------------------------------------------------</span>
<span class="go">  jw01023029001_02101_00004_mirimage_c1006_crf.fits</span>
<span class="go">        jw01023029001_02101_00004_mirimage_cal.fits</span>
<span class="go">        jw01023029001_02101_00004_mirimage_i2d.fits</span>
<span class="go">   jw01023029001_02101_00004_mirimage_o029_crf.fits</span>
<span class="go">       jw01023029001_02101_00004_mirimage_rate.fits</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>To download a data product</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;select o.observationid, a.artifactid, a.filename</span>
<span class="gp">... </span><span class="s2">from jwst.observation o join jwst.artifact a on a.obsid = o.obsid</span>
<span class="gp">... </span><span class="s2">where o.proposal_id = &#39;01166&#39; and o.intent = &#39;science&#39;&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">async_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Query finished. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span>  
<span class="go">           observationid                       artifactid                                    filename</span>
<span class="go">  ------------------------------- ------------------------------------ ----------------------------------------------------</span>
<span class="go">  jw01166091001_02102_00002_nrca3 6ab73824-6587-4bca-84a8-eb48ac7251be jw01166-o091_20220505t044658_wfs-image2_058_asn.json</span>
<span class="go">  jw01166091001_02102_00002_nrca3 c999249f-c554-4a5f-bd6a-099f1fe48864             jw01166091001_02102_00002_nrca3_cal.fits</span>
<span class="go">  jw01166091001_02102_00002_nrca3 004433de-a4b3-4dc6-9177-0f9d78a97bda              jw01166091001_02102_00002_nrca3_cal.jpg</span>
<span class="go">  jw01166091001_02102_00002_nrca3 5b89920d-532d-43be-b70b-973c4bfdfdcc        jw01166091001_02102_00002_nrca3_cal_thumb.jpg</span>
<span class="go">  jw01166091001_02102_00002_nrca3 5a86e351-3066-4c46-8698-c49aade6ec98            jw01166091001_02102_00002_nrca3_rate.fits</span>
<span class="go">  ...                             ...                                  ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_file</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_product</span><span class="p">(</span><span class="n">artifact_id</span><span class="o">=</span><span class="s1">&#39;6ab73824-6587-4bca-84a8-eb48ac7251be&#39;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_file</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_product</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;jw01166091001_02102_00002_nrca3_cal.fits&#39;</span><span class="p">)</span>  
</pre></div>
</div>
<p>To download products by observation identifier, it is possible to use the get_obs_products function, with the same parameters
than get_product_list, it also supports product_type parameter as string or list. product_type as string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observation_id</span> <span class="o">=</span> <span class="s1">&#39;jw01122001001_0210r_00001_nrs2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_obs_products</span><span class="p">(</span><span class="n">observation_id</span><span class="o">=</span><span class="n">observation_id</span><span class="p">,</span> <span class="n">cal_level</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">product_type</span><span class="o">=</span><span class="s1">&#39;science&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here product_type as list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observation_id</span> <span class="o">=</span> <span class="s1">&#39;jw01122001001_0210r_00001_nrs2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_obs_products</span><span class="p">(</span><span class="n">observation_id</span><span class="o">=</span><span class="n">observation_id</span><span class="p">,</span> <span class="n">cal_level</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">product_type</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;preview&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>A temporary directory is created with the files and a list of the them is provided.</p>
<p>When more than one product is found, a tar file is retrieved. This method extracts the products.</p>
<p>This method is only intended to download the products with the same calibration level or below. If an upper level is requested:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ne">ValueError</span><span class="p">:</span> <span class="n">Requesting</span> <span class="n">upper</span> <span class="n">levels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">allowed</span>
</pre></div>
</div>
<p>If proprietary data is requested and the user has not logged in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">403</span> <span class="n">Error</span> <span class="mi">403</span><span class="p">:</span>
<span class="n">Private</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">requested</span><span class="p">:</span> <span class="n">MAST</span> <span class="n">token</span> <span class="n">required</span> <span class="k">for</span> <span class="n">authentication</span><span class="o">.</span>
</pre></div>
</div>
<p>It is also possible to extract the products associated to an observation with upper calibration levels with get_related_observations.
Using the observation ID as input parameter, this function will retrieve the observations (IDs) that use it to create a composite observation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observation_id</span> <span class="o">=</span> <span class="s1">&#39;jw02739-o001_t001_nircam_clear-f444w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">get_related_observations</span><span class="p">(</span><span class="n">observation_id</span><span class="o">=</span><span class="n">observation_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[&#39;jw02739001001_02105_00001_nrcalong&#39;,</span>
<span class="go"> &#39;jw02739001001_02105_00001_nrcblong&#39;,</span>
<span class="go"> &#39;jw02739001001_02105_00002_nrcalong&#39;,</span>
<span class="go"> &#39;jw02739001001_02105_00002_nrcblong&#39;,</span>
<span class="go"> &#39;jw02739001001_02105_00003_nrcalong&#39;]</span>
</pre></div>
</div>
<p>To query the data products associated with a certain Proposal ID and filtered by product_type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">observation_list</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">download_files_from_program</span><span class="p">(</span><span class="n">proposal_id</span><span class="o">=</span><span class="s1">&#39;6651&#39;</span><span class="p">,</span> <span class="n">product_type</span><span class="o">=</span><span class="s1">&#39;preview&#39;</span><span class="p">)</span>  
<span class="go">INFO: Query finished. [astroquery.utils.tap.core]</span>
<span class="go">INFO: Downloading products for Observation ID: jw06651001001_05201_00001_nis [astroquery.esa.jwst.core]</span>
<span class="go">INFO: Downloading products for Observation ID: jw06651002001_05201_00001_nis [astroquery.esa.jwst.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">observation_list</span><span class="p">)</span> 
<span class="go">[&#39;jw06651001001_05201_00001_nis&#39;, &#39;jw06651002001_05201_00001_nis&#39;]</span>
</pre></div>
</div>
</section>
<section id="getting-public-tables">
<h4>1.5 Getting public tables<a class="headerlink" href="#getting-public-tables" title="Link to this heading">¶</a></h4>
<p>To load only table names (TAP+ capability)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tables</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">load_tables</span><span class="p">(</span><span class="n">only_names</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Retrieving tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Parsing tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Done. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">  ivoa.obscore</span>
<span class="go">  jwst.archive</span>
<span class="go">  jwst.artifact</span>
<span class="go">  jwst.chunk</span>
<span class="go">  jwst.harvestskipuri</span>
<span class="go">  jwst.main</span>
<span class="go">  jwst.moc</span>
<span class="go">  jwst.observation</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>To load table names (TAP compatible)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tables</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">load_tables</span><span class="p">()</span>
<span class="go">INFO: Retrieving tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Parsing tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Done. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">  ivoa.obscore</span>
<span class="go">  jwst.archive</span>
<span class="go">  jwst.artifact</span>
<span class="go">  jwst.chunk</span>
<span class="go">  jwst.harvestskipuri</span>
<span class="go">  jwst.main</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>To load only a table (TAP+ capability)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">load_table</span><span class="p">(</span><span class="s1">&#39;jwst.main&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> 
<span class="go">TAP Table name: jwst.jwst.main</span>
<span class="go">Description: None</span>
<span class="go">Num. columns: 109</span>
</pre></div>
</div>
<p>Once a table is loaded, columns can be inspected</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">load_table</span><span class="p">(</span><span class="s1">&#39;jwst.main&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> 
<span class="go">&quot;public&quot;</span>
<span class="go">algorithm_name</span>
<span class="go">calibrationlevel</span>
<span class="go">collection</span>
<span class="go">creatorid</span>
<span class="go">dataproducttype</span>
<span class="go">energy_bandpassname</span>
<span class="go">...</span>
</pre></div>
</div>
</section>
<section id="synchronous-query">
<h4>1.6 Synchronous query<a class="headerlink" href="#synchronous-query" title="Link to this heading">¶</a></h4>
<p>A synchronous query will not store the results at server side. These queries
must be used when the amount of data to be retrieve is ‘small’.</p>
<p>There is a limit of 2000 rows. If you need more than that, you must use
asynchronous queries.</p>
<p>The results can be saved in memory (default) or in a file.</p>
<p>Query without saving results in a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="s2">&quot;SELECT TOP 100 &quot;</span>
<span class="gp">... </span>      <span class="s2">&quot;instrument_name, proposal_id, calibrationlevel, &quot;</span>
<span class="gp">... </span>      <span class="s2">&quot;dataproducttype &quot;</span>
<span class="gp">... </span>      <span class="s2">&quot;FROM jwst.main ORDER BY instrument_name, observationuri&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>  
<span class="go">&lt;Table length=100&gt;</span>
<span class="go">      name       dtype</span>
<span class="go">---------------- ------</span>
<span class="go"> instrument_name object</span>
<span class="go">     proposal_id object</span>
<span class="go">calibrationlevel  int32</span>
<span class="go"> dataproducttype object</span>
<span class="go">Jobid: None</span>
<span class="go">Phase: COMPLETED</span>
<span class="go">Owner: None</span>
<span class="go">Output file: 1661441953031O-result.vot.gz</span>
<span class="go">Results: None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">&lt;Table length=100&gt;</span>
<span class="go">instrument_name proposal_id calibrationlevel dataproducttype</span>
<span class="go">     object        object        int32            object</span>
<span class="go">--------------- ----------- ---------------- ---------------</span>
<span class="go">            FGS        1014                3           image</span>
<span class="go">            FGS        1014                3           image</span>
<span class="go">            FGS        1014                3           image</span>
<span class="go">            FGS        1014                3           image</span>
<span class="go">            FGS        1014                3           image</span>
<span class="go">            FGS        1014                2           image</span>
<span class="go">            FGS        1014                1           image</span>
<span class="go">            FGS        1014                1           image</span>
<span class="go">            FGS        1014                2           image</span>
<span class="go">            FGS        1014                2           image</span>
<span class="go">            ...         ...              ...             ...</span>
<span class="go">            FGS        1017                2           image</span>
<span class="go">            FGS        1017                1           image</span>
<span class="go">            FGS        1017                2           image</span>
<span class="go">            FGS        1017                1           image</span>
<span class="go">            FGS        1017                2           image</span>
<span class="go">            FGS        1017                1           image</span>
<span class="go">            FGS        1017                2           image</span>
<span class="go">            FGS        1017                1           image</span>
<span class="go">            FGS        1017                2           image</span>
<span class="go">            FGS        1017                1           image</span>
<span class="go">            FGS        1017                2           image</span>
</pre></div>
</div>
<p>Query saving results in a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="s2">&quot;SELECT TOP 100 &quot;</span>
<span class="gp">... </span>                      <span class="s2">&quot;instrument_name, proposal_id, calibrationlevel, &quot;</span>
<span class="gp">... </span>                      <span class="s2">&quot;dataproducttype &quot;</span>
<span class="gp">... </span>                      <span class="s2">&quot;FROM jwst.main ORDER BY instrument_name, observationuri&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">dump_to_file</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>  
<span class="go">Jobid: None</span>
<span class="go">Phase: COMPLETED</span>
<span class="go">Owner: None</span>
<span class="go">Output file: 1655978085454O-result.vot.gz</span>
<span class="go">Results: None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>  
<span class="go">  &lt;Table length=100&gt;</span>
<span class="go">  instrument_name proposal_id calibrationlevel dataproducttype</span>
<span class="go">       object        object        int32            object</span>
<span class="go">  --------------- ----------- ---------------- ---------------</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                3           image</span>
<span class="go">              FGS       01014                2           image</span>
<span class="go">  ...             ...         ...              ...</span>
</pre></div>
</div>
</section>
<section id="synchronous-query-on-an-on-the-fly-uploaded-table">
<h4>1.7 Synchronous query on an ‘on-the-fly’ uploaded table<a class="headerlink" href="#synchronous-query-on-an-on-the-fly-uploaded-table" title="Link to this heading">¶</a></h4>
<p>A table can be uploaded to the server in order to be used in a query.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">upload_resource</span> <span class="o">=</span> <span class="s1">&#39;mytable.xml.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;SELECT * from tap_upload.table_test&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">upload_resource</span><span class="o">=</span><span class="n">upload_resource</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">upload_table_name</span><span class="o">=</span><span class="s2">&quot;table_test&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
<span class="go">source_id alpha delta</span>
<span class="go">--------- ----- -----</span>
<span class="go">        a   1.0   2.0</span>
<span class="go">        b   3.0   4.0</span>
<span class="go">        c   5.0   6.0</span>
</pre></div>
</div>
</section>
<section id="asynchronous-query">
<h4>1.8 Asynchronous query<a class="headerlink" href="#asynchronous-query" title="Link to this heading">¶</a></h4>
<p>Asynchronous queries save results at server side. These queries can be accessed at any time. For anonymous users, results are kept for three days.</p>
<p>The results can be saved in memory (default) or in a file.</p>
<p>Query without saving results in a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="s2">&quot;select top 100 * from jwst.main&quot;</span><span class="p">,</span> <span class="n">async_job</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Query finished. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>  
<span class="go">Jobid: 1542383562372I</span>
<span class="go">Phase: COMPLETED</span>
<span class="go">Owner: None</span>
<span class="go">Output file: async_20181116165244.vot</span>
<span class="go">Results: None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;observationid&#39;</span><span class="p">]</span>  
<span class="go">&lt;MaskedColumn name=&#39;observationid&#39; dtype=&#39;object&#39; length=100&gt;</span>
<span class="go">     jw01070001002_04101_00003_nrca1</span>
<span class="go">     jw01070001002_04101_00003_nrca1</span>
<span class="go">   jw01286007001_xx10k_00001_nirspec</span>
<span class="go">      jw01290023001_xx10b_00001_miri</span>
<span class="go">    jw01568006004_xx101_00001_nircam</span>
<span class="go">                                 ...</span>
</pre></div>
</div>
<p>Query saving results in a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">launch_job</span><span class="p">(</span><span class="s2">&quot;select top 100 * from jwst.main&quot;</span><span class="p">,</span> <span class="n">dump_to_file</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>  
<span class="go">Jobid: None</span>
<span class="go">Phase: COMPLETED</span>
<span class="go">Owner: None</span>
<span class="go">Output file: 1635853688471D-result.vot.gz</span>
<span class="go">Results: None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;instrument_name&#39;</span><span class="p">]</span>  
<span class="go">&lt;MaskedColumn name=&#39;instrument_name&#39; dtype=&#39;object&#39; length=100&gt;</span>
<span class="go">        NIRCAM</span>
<span class="go">        NIRCAM</span>
<span class="go">    NIRISS/MSA</span>
<span class="go">      MIRI/IFU</span>
<span class="go">  NIRCAM/IMAGE</span>
<span class="go">          MIRI</span>
<span class="go">           ...</span>
</pre></div>
</div>
</section>
<section id="asynchronous-job-removal">
<h4>1.9 Asynchronous job removal<a class="headerlink" href="#asynchronous-job-removal" title="Link to this heading">¶</a></h4>
<p>To remove asynchronous</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">job</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">remove_jobs</span><span class="p">([</span><span class="s2">&quot;job_id_1&quot;</span><span class="p">,</span> <span class="s2">&quot;job_id_2&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<section id="authenticated-access">
<h3>2. Authenticated access<a class="headerlink" href="#authenticated-access" title="Link to this heading">¶</a></h3>
<p>Authenticated users are able to access to TAP+ capabilities (shared tables, persistent jobs, etc.)
In order to authenticate a user, <code class="docutils literal notranslate"><span class="pre">login</span></code> method must be called. After a successful
authentication, the user will be authenticated until <code class="docutils literal notranslate"><span class="pre">logout</span></code> method is called.</p>
<p>All previous methods (<code class="docutils literal notranslate"><span class="pre">query_object</span></code>, <code class="docutils literal notranslate"><span class="pre">cone_search</span></code>, <code class="docutils literal notranslate"><span class="pre">load_table</span></code>, <code class="docutils literal notranslate"><span class="pre">load_tables</span></code>, <code class="docutils literal notranslate"><span class="pre">launch_job</span></code>) explained for
non authenticated users are applicable for authenticated ones.</p>
<p>The main differences are:</p>
<ul class="simple">
<li><p>Asynchronous results are kept at server side for ever (until the user decides to remove one of them).</p></li>
<li><p>Users can access to shared tables.</p></li>
<li><p>It is also possible to set a token after logging using <code class="docutils literal notranslate"><span class="pre">set_token</span></code> function.</p></li>
</ul>
<section id="login-logout">
<h4>2.1. Login/Logout<a class="headerlink" href="#login-logout" title="Link to this heading">¶</a></h4>
<p>Using the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;userPassword&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>It is possible to use a file where the credentials are stored:</p>
<p><em>The file must containing user and password in two different lines.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">credentials_file</span><span class="o">=</span><span class="s1">&#39;my_credentials_file&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>MAST tokens can also be used in command line functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;userPassword&#39;</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;mastToken&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the user is logged in and a MAST token has not been included or must be changed, it can be
specified using the <code class="docutils literal notranslate"><span class="pre">set_token</span></code> function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;userName&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;userPassword&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="s1">&#39;mastToken&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To perform a logout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Jwst</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="listing-shared-tables">
<h4>2.2. Listing shared tables<a class="headerlink" href="#listing-shared-tables" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.esa.jwst</span> <span class="kn">import</span> <span class="n">Jwst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tables</span> <span class="o">=</span> <span class="n">Jwst</span><span class="o">.</span><span class="n">load_tables</span><span class="p">(</span><span class="n">only_names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_shared_tables</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">INFO: Retrieving tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Parsing tables... [astroquery.utils.tap.core]</span>
<span class="go">INFO: Done. [astroquery.utils.tap.core]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">tables</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>  
<span class="go">public.dual</span>
<span class="go">tap_schema.columns</span>
<span class="go">tap_schema.key_columns</span>
<span class="go">tap_schema.keys</span>
<span class="go">tap_schema.schemas</span>
<span class="go">tap_schema.tables</span>
<span class="go">jwst.artifact</span>
<span class="go">jwst.chunk</span>
<span class="go">jwst.main</span>
<span class="go">jwst.observation</span>
<span class="go">jwst.observationmember</span>
<span class="go">jwst.part</span>
<span class="go">jwst.plane</span>
<span class="go">jwst.plane_inputs</span>
<span class="go">...</span>
<span class="go">user_schema_1.table1</span>
<span class="go">user_schema_2.table1</span>
<span class="go">...</span>
</pre></div>
</div>
<section id="reference-api">
<h5>Reference/API<a class="headerlink" href="#reference-api" title="Link to this heading">¶</a></h5>
<section id="module-astroquery.esa.jwst">
<span id="astroquery-esa-jwst-package"></span><h6>astroquery.esa.jwst Package<a class="headerlink" href="#module-astroquery.esa.jwst" title="Link to this heading">¶</a></h6>
<p>European Space Astronomy Centre (ESAC)
European Space Agency (ESA)</p>
<section id="classes">
<h6 aria-level="7">Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h6>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api/astroquery.esa.jwst.JwstClass.html#astroquery.esa.jwst.JwstClass" title="astroquery.esa.jwst.JwstClass"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JwstClass</span></code></a>(*[, tap_plus_handler, ...])</p></td>
<td><p>Proxy class to default TapPlus object (pointing to JWST Archive)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api/astroquery.esa.jwst.JwstDataHandler.html#astroquery.esa.jwst.JwstDataHandler" title="astroquery.esa.jwst.JwstDataHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JwstDataHandler</span></code></a>([base_url])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api/astroquery.esa.jwst.Conf.html#astroquery.esa.jwst.Conf" title="astroquery.esa.jwst.Conf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Conf</span></code></a>()</p></td>
<td><p>Configuration parameters for <a class="reference internal" href="#module-astroquery.esa.jwst" title="astroquery.esa.jwst"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.esa.jwst</span></code></a>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">ESA JWST Archive (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.esa.jwst</span></code>)</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#non-authenticated-access">1. Non authenticated access</a><ul>
<li><a class="reference internal" href="#query-region">1.1. Query region</a></li>
<li><a class="reference internal" href="#cone-search">1.2. Cone search</a></li>
<li><a class="reference internal" href="#query-by-target-name">1.3. Query by target name</a></li>
<li><a class="reference internal" href="#getting-data-products">1.4 Getting data products</a></li>
<li><a class="reference internal" href="#getting-public-tables">1.5 Getting public tables</a></li>
<li><a class="reference internal" href="#synchronous-query">1.6 Synchronous query</a></li>
<li><a class="reference internal" href="#synchronous-query-on-an-on-the-fly-uploaded-table">1.7 Synchronous query on an ‘on-the-fly’ uploaded table</a></li>
<li><a class="reference internal" href="#asynchronous-query">1.8 Asynchronous query</a></li>
<li><a class="reference internal" href="#asynchronous-job-removal">1.9 Asynchronous job removal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authenticated-access">2. Authenticated access</a><ul>
<li><a class="reference internal" href="#login-logout">2.1. Login/Logout</a></li>
<li><a class="reference internal" href="#listing-shared-tables">2.2. Listing shared tables</a><ul>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astroquery.esa.jwst">astroquery.esa.jwst Package</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../../_sources/esa/jwst/jwst.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2025, The Astroquery Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.4.7. &nbsp;
    Last built 02 Apr 2025. <br/>
  </p>
</footer>
  </body>
</html>