<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CASDA Queries (astroquery.casda) &#8212; astroquery v0.4.8.dev10183</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-astropy.css?v=9d21690f" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=d8f3c6fe"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CasdaClass" href="../api/astroquery.casda.CasdaClass.html" />
    <link rel="prev" title="CadcClass" href="../api/astroquery.cadc.CadcClass.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">query</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../api/astroquery.casda.CasdaClass.html" title="CasdaClass">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../api/astroquery.cadc.CadcClass.html" title="CadcClass">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">astroquery v0.4.8.dev10183</a>
	 &#187;
      </li>
      
      <li>CASDA Queries (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.casda</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="casda-queries-astroquery-casda">
<span id="astroquery-casda"></span><h1>CASDA Queries (<a class="reference internal" href="#module-astroquery.casda" title="astroquery.casda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.casda</span></code></a>)<a class="headerlink" href="#casda-queries-astroquery-casda" title="Link to this heading">¶</a></h1>
<p>The CSIRO ASKAP Science Data Archive (CASDA) provides access to science-ready data products
from observations at the <a class="reference external" href="https://www.csiro.au/en/about/facilities-collections/atnf/askap-radio-telescope">Australian Square Kilometre Array Pathfinder (ASKAP)</a> telescope.
These data products include source catalogues, images, spectral line and polarisation cubes, spectra and visbilities.
This package allows querying of the data products available in CASDA (<a class="reference external" href="https://research.csiro.au/casda">https://research.csiro.au/casda</a>).</p>
<section id="listing-data-products">
<h2>Listing Data Products<a class="headerlink" href="#listing-data-products" title="Link to this heading">¶</a></h2>
<p>The metadata for data products held in CASDA may be queried using the <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.query_region" title="astroquery.casda.CasdaClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> method.
The results are returned in a <a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v7.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a>.
The method takes a location and either a radius or a height and width of the region to be queried.
The location should be specified in ICRS coordinates or an <a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates.SkyCoord</span></code></a> object.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">centre</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;NGC 7232&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_table</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result_table</span><span class="p">[</span><span class="s1">&#39;obs_publisher_did&#39;</span><span class="p">,</span><span class="s1">&#39;s_ra&#39;</span><span class="p">,</span> <span class="s1">&#39;s_dec&#39;</span><span class="p">,</span> <span class="s1">&#39;obs_release_date&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">])</span>  
<span class="go">obs_publisher_did       s_ra           s_dec           obs_release_date</span>
<span class="go">                        deg             deg</span>
<span class="go">----------------- --------------- ---------------- ------------------------</span>
<span class="go">        cube-1170 333.70448386919 -45.966341151806 2019-01-30T13:00:00.000Z</span>
<span class="go">       cube-60339 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60338 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60337 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60336 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
</pre></div>
</div>
<p>In most cases only public data is required. While most ASKAP data is public, some data products may not be released for quality reasons.
Some derived data produced by science teams may also be embargoed to the science team for a period of team.
To filter down to just the public data you can use the <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.filter_out_unreleased" title="astroquery.casda.CasdaClass.filter_out_unreleased"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter_out_unreleased()</span></code></a> method.</p>
<p>For example to filter out the 30 non-public results from the above data set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">public_results</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">filter_out_unreleased</span><span class="p">(</span><span class="n">result_table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">public_results</span><span class="p">[</span><span class="s1">&#39;obs_publisher_did&#39;</span><span class="p">,</span><span class="s1">&#39;s_ra&#39;</span><span class="p">,</span> <span class="s1">&#39;s_dec&#39;</span><span class="p">,</span> <span class="s1">&#39;obs_release_date&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">])</span>  
<span class="go">obs_publisher_did       s_ra           s_dec           obs_release_date</span>
<span class="go">                        deg             deg</span>
<span class="go">----------------- --------------- ---------------- ------------------------</span>
<span class="go">        cube-1170 333.70448386919 -45.966341151806 2019-01-30T13:00:00.000Z</span>
<span class="go">       cube-60339 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60338 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60337 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
<span class="go">       cube-60336 333.74878924962  -46.50601666028 2022-03-18T00:32:52.674Z</span>
</pre></div>
</div>
</section>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">¶</a></h2>
<p>User authentication is required to access data files from CASDA, including
calibrated visibilities, images and image cubes.
Authentication is made with OPAL credentials.
To register with OPAL, go to <a class="reference external" href="https://opal.atnf.csiro.au/">https://opal.atnf.csiro.au/</a> and click on the
link to ‘Register’. Enter your email address, name, affiliation and a password.
The OPAL application will register you straight away.</p>
<p>OPAL user accounts are self-managed. Please keep your account details up to
date. To change user-registration details, or to request a new OPAL password,
use the link to ‘Log in or reset password’.</p>
<p>To use download tasks, you should create an instance of the <code class="docutils literal notranslate"><span class="pre">Casda</span></code> class
and call the <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.login" title="astroquery.casda.CasdaClass.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">login()</span></code></a> method with a username. The password will either be taken
from the keyring, or if in an interactive environment then it will be requested. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span> <span class="o">=</span> <span class="n">Casda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;email@somewhere.edu.au&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prior to Astroquery v0.4.7, authentication required creating an instance of the <code class="docutils literal notranslate"><span class="pre">Casda</span></code> class
with a username and password. e.g.: <code class="docutils literal notranslate"><span class="pre">casda</span> <span class="pre">=</span> <span class="pre">Casda(username,</span> <span class="pre">password)</span></code></p>
</div>
</section>
<section id="data-access">
<h2>Data Access<a class="headerlink" href="#data-access" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.4.4.</span></p>
</div>
<p>In order to access data in CASDA you must first stage the data using the <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.stage_data" title="astroquery.casda.CasdaClass.stage_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stage_data()</span></code></a>
method.
This is because only some of the data in CASDA is held on disc at any particular time.
The <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.stage_data" title="astroquery.casda.CasdaClass.stage_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stage_data()</span></code></a> method should be passed an astropy Table object containing an
‘access_url’ column.
This column should contain the datalink address of the data product.</p>
<p>Once the data has been assembled you can then download the data using the <a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.download_files" title="astroquery.casda.CasdaClass.download_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">download_files()</span></code></a>
method, or using tools such as wget.
Authentication is required when staging the data, but not for the download.</p>
<p>An example script to download public continuum images of the NGC 7232 region
taken in scheduling block 2338 is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span><span class="p">,</span> <span class="n">wcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">centre</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;NGC 7232&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span> <span class="o">=</span> <span class="n">Casda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;email@somewhere.edu.au&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">public_data</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">filter_out_unreleased</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">public_data</span><span class="p">[(</span><span class="n">public_data</span><span class="p">[</span><span class="s1">&#39;dataproduct_subtype&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;cont.restored.t0&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">public_data</span><span class="p">[</span><span class="s1">&#39;obs_id&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;2338&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">stage_data</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filelist</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">download_files</span><span class="p">(</span><span class="n">url_list</span><span class="p">,</span> <span class="n">savedir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to server side changes, downloads now require Astroquery v0.4.6 or later.</p>
</div>
</section>
<section id="cutouts">
<h2>Cutouts<a class="headerlink" href="#cutouts" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.4.7.</span></p>
</div>
<p>As well as accessing full data products, the CASDA service can produce cutout images and cubes from larger data products.
The cutout support in AstroQuery allows both spatial and spectral cutouts.
To produce a spatial cutout, pass in a coordinate and either a radius or a height and a width to the
<a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass.cutout" title="astroquery.casda.CasdaClass.cutout"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cutout()</span></code></a> method.
To produce a spectral cutout, pass in either a band or a channel value.
For band, the value must be a list or tuple of two <a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units.Quantity</span></code></a> objects specifying a low and high frequency
or wavelength. For an open ended range use <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> as the open value.
For channel, the value must be a list or tuple of two integers specifying the low and high channels (i.e. planes of a
cube) inclusive.
Spatial and spectral parameters can be combined to produce sub-cubes.</p>
<p>Once completed, the cutouts can be downloaded as described in the section above.</p>
<p>An example script to download a 2D cutout from the Rapid ASKAP Continuum Survey (RACS) at a specified position is shown
below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span><span class="p">,</span> <span class="n">wcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">centre</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;2MASX J08161181-7039447&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span> <span class="o">=</span> <span class="n">Casda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;email@somewhere.edu.au&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">public_data</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">filter_out_unreleased</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">public_data</span><span class="p">[((</span><span class="n">public_data</span><span class="p">[</span><span class="s1">&#39;obs_collection&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;The Rapid ASKAP Continuum Survey&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="c1">#</span>
<span class="go">                  (np.char.startswith(public_data[&#39;filename&#39;], &#39;RACS-DR1_&#39;)) &amp; #</span>
<span class="go">                  (np.char.endswith(public_data[&#39;filename&#39;], &#39;A.fits&#39;))</span>
<span class="go">                 )]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">cutout</span><span class="p">(</span><span class="n">subset</span><span class="p">[:</span><span class="mi">1</span><span class="p">],</span> <span class="n">coordinates</span><span class="o">=</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">14</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filelist</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">download_files</span><span class="p">(</span><span class="n">url_list</span><span class="p">,</span> <span class="n">savedir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>An example script to download a 3D cutout from the WALLABY Pre-Pilot Eridanus cube at a specified position and velocity range
is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span><span class="p">,</span> <span class="n">wcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">centre</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;NGC 1371&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span> <span class="o">=</span> <span class="n">Casda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;email@somewhere.edu.au&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">public_data</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">filter_out_unreleased</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eridanus_cube</span> <span class="o">=</span> <span class="n">public_data</span><span class="p">[</span><span class="n">public_data</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Eridanus_full_image_V3.fits&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1250</span><span class="p">,</span> <span class="mi">1600</span><span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="n">vel</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span><span class="p">,</span> <span class="n">equivalencies</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">doppler_radio</span><span class="p">(</span><span class="mf">1.420405751786</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">GHz</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">cutout</span><span class="p">(</span><span class="n">eridanus_cube</span><span class="p">,</span> <span class="n">coordinates</span><span class="o">=</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">9</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">,</span> <span class="n">band</span><span class="o">=</span><span class="n">freq</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filelist</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">download_files</span><span class="p">(</span><span class="n">url_list</span><span class="p">,</span> <span class="n">savedir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>An example script to download a 3D cutout of a spectral channel range from the WALLABY Pre-Pilot Eridanus cube
is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span><span class="p">,</span> <span class="n">wcs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">centre</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s1">&#39;NGC 1371&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span> <span class="o">=</span> <span class="n">Casda</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">casda</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;email@somewhere.edu.au&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">centre</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcmin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">public_data</span> <span class="o">=</span> <span class="n">Casda</span><span class="o">.</span><span class="n">filter_out_unreleased</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eridanus_cube</span> <span class="o">=</span> <span class="n">public_data</span><span class="p">[</span><span class="n">public_data</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Eridanus_full_image_V3.fits&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">cutout</span><span class="p">(</span><span class="n">eridanus_cube</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filelist</span> <span class="o">=</span> <span class="n">casda</span><span class="o">.</span><span class="n">download_files</span><span class="p">(</span><span class="n">url_list</span><span class="p">,</span> <span class="n">savedir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<p>If you are repeatedly getting failed queries, or bad/out-of-date results, try clearing your cache:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.casda</span> <span class="kn">import</span> <span class="n">Casda</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Casda</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">()</span>
</pre></div>
</div>
<p>If this function is unavailable, upgrade your version of astroquery.
The <code class="docutils literal notranslate"><span class="pre">clear_cache</span></code> function was introduced in version 0.4.7.dev8479.</p>
</section>
<section id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Link to this heading">¶</a></h2>
<section id="module-astroquery.casda">
<span id="astroquery-casda-package"></span><h3>astroquery.casda Package<a class="headerlink" href="#module-astroquery.casda" title="Link to this heading">¶</a></h3>
<p>CSIRO ASKAP Science Data Archive (CASDA)</p>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h4>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/astroquery.casda.CasdaClass.html#astroquery.casda.CasdaClass" title="astroquery.casda.CasdaClass"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CasdaClass</span></code></a>()</p></td>
<td><p>Class for accessing ASKAP data through the CSIRO ASKAP Science Data Archive (CASDA).</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">CASDA Queries (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.casda</span></code>)</a><ul>
<li><a class="reference internal" href="#listing-data-products">Listing Data Products</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
<li><a class="reference internal" href="#data-access">Data Access</a></li>
<li><a class="reference internal" href="#cutouts">Cutouts</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astroquery.casda">astroquery.casda Package</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/casda/casda.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2025, The Astroquery Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.4.7. &nbsp;
    Last built 07 Apr 2025. <br/>
  </p>
</footer>
  </body>
</html>